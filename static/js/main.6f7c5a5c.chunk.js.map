{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/SearchBar/SearchBar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchBar","state","querry","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onFormSubmit","className","styles","Searchbar","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Button","onClick","ImageGalleryItem","link","alt","onImageClick","src","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","tags","largeImageURL","key","Modal","overlayRef","createRef","handleKeyPress","code","onCloseModal","handleOverlayClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","API_URL","App","isLoading","page","isShowModal","modalImageURL","incrementPage","handleImageClick","url","handleCloseModal","getDataByQuerry","axios","get","then","data","hits","catch","console","log","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","length","style","margin","color","height","width","timeout","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6f7c5a5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","import styles from './SearchBar.module.css';\nimport PropTypes from 'prop-types';\n\nimport React, { Component } from 'react';\n\nexport default class SearchBar extends Component {\n  state = {\n    querry: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      querry: e.target.value,\n    });\n  };\n\n  static propTypes = {\n    onFormSubmit: PropTypes.func.isRequired,\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onFormSubmit(this.state.querry);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.querry}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button className={styles.Button} type=\"button\" onClick={onClick}>\n    Load more...\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ link, alt, onImageClick }) => (\n  <li className={styles.ImageGalleryItem} onClick={onImageClick}>\n    <img src={link} alt={alt} className={styles.ImageGalleryItemImage} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  link: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onImageClick }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        link={webformatURL}\n        alt={tags}\n        onImageClick={() => onImageClick(largeImageURL)}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  static propTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onCloseModal();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n    if (current && current !== e.target) return;\n    this.props.onCloseModal();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayClick}\n      >\n        <div className={styles.Modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport SearchBar from '../SearchBar/SearchBar';\nimport Button from '../Button/Button';\nimport axios from 'axios';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Modal from '../Modal/Modal';\nimport '../../../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\nconst PICS_PER_PAGE = 12;\nconst API_KEY = '14481243-ffa5b678be0edea71dcb3ff43';\nconst API_URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&key=' +\n  API_KEY +\n  '&per_page=' +\n  PICS_PER_PAGE;\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    page: 1,\n    querry: '',\n    isShowModal: false,\n    modalImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.page !== this.state.page) {\n      this.getDataByQuerry();\n    }\n  }\n\n  incrementPage = () => {\n    this.setState(state => ({\n      ...state,\n      page: this.state.page + 1,\n    }));\n  };\n\n  handleImageClick = url => {\n    this.setState({ isShowModal: true, modalImageURL: url });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isShowModal: false, modalImageURL: '' });\n  };\n\n  handleSubmit = querry => {\n    this.setState({ images: [], isLoading: false, page: 1, querry: '' });\n    this.getDataByQuerry(querry);\n  };\n\n  getDataByQuerry = (querry = this.state.querry) => {\n    this.setState({ isLoading: true, querry: querry });\n    axios\n      .get(API_URL + '&q=' + querry + '&page=' + this.state.page)\n      .then(({ data }) =>\n        this.setState({\n          images: [...this.state.images, ...data.hits],\n        }),\n      )\n      .catch(console.log)\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  render() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    const { images, isLoading } = this.state;\n    return (\n      <>\n        {this.state.isShowModal && (\n          <Modal onCloseModal={this.handleCloseModal}>\n            <img src={this.state.modalImageURL} alt={this.state.querry} />\n          </Modal>\n        )}\n        <div className={styles.App}>\n          <SearchBar onFormSubmit={this.handleSubmit} />\n          {images.length > 0 && (\n            <ImageGallery\n              images={images}\n              onImageClick={this.handleImageClick}\n            />\n          )}\n          {isLoading && (\n            <Loader\n              style={{ margin: '0 auto' }}\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000}\n            />\n          )}\n        </div>\n        {images.length > 0 && <Button onClick={this.incrementPage} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};"],"sourceRoot":""}